(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,n){e.exports=n(189)},138:function(e,t,n){},140:function(e,t,n){},143:function(e,t,n){},163:function(e,t,n){},165:function(e,t,n){},167:function(e,t,n){},171:function(e,t,n){},176:function(e,t,n){},178:function(e,t,n){},180:function(e,t,n){},182:function(e,t,n){},184:function(e,t,n){},187:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),c=n.n(o),i=(n(138),n(4)),l=n(5),s=n(8),u=n(6),h=n(7),p=(n(140),n(143),n(215)),m=n(210),d=n(20),g=n(207),f=n(9),v=n.n(f),b=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e,n){return t.service.post("/signup",{username:e,password:n}).then(function(e){return e.data})},this.login=function(e,n){return t.service.post("/login",{username:e,password:n}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/currentUser").then(function(e){return e.data})},this.logout=function(){return t.service.get("/logout").then(function(e){return e.data})},this.service=v.a.create({baseURL:"".concat("https://mn3m0s1n3.herokuapp.com/api","/auth"),withCredentials:!0})},E=(n(163),n(25)),y=(n(165),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.login(t,a).then(function(e){n.setState({username:t,password:a,error:!1}),n.props.getUser(e)}).catch(function(e){n.setState({username:t,password:a,error:!0})})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(E.a)({},a,r))},n.state={username:"",password:""},n.service=new b,n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-form"},r.a.createElement("p",null,this.state.error?"error ":""),r.a.createElement("form",{className:"loginForm",onSubmit:this.handleFormSubmit},r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)},placeholder:"name:"}),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)},placeholder:"| password:"}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(a.Component)),k=(n(167),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.signup(t,a).then(function(e){n.setState({username:"",password:""}),n.props.getUser(e.user)}).catch(function(e){n.setState({username:t,password:a,error:!0})})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(E.a)({},a,r))},n.state={username:"",password:""},n.service=new b,n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"signup-form"},r.a.createElement("p",null,this.state.error?"error ":""),r.a.createElement("form",{className:"signupForm",onSubmit:this.handleFormSubmit},r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)},placeholder:"name:"}),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)},placeholder:"| password:"}),r.a.createElement("input",{type:"submit",value:"Sign up"})))}}]),t}(a.Component)),j=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleLogout=function(e){n.props.logout()},n.state={loggedInUser:null,isSignup:!1},n.service=new b,n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(d.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"changeState",value:function(){this.setState({isSignup:!this.state.isSignup})}},{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"nav-style"},this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-navbar"}," ",r.a.createElement(g.a,{to:"/profile"}," ",r.a.createElement("h1",null,this.state.loggedInUser.username)),r.a.createElement("a",{onClick:this.handleLogout},"logout"))):r.a.createElement("ul",null,this.state.isSignup?r.a.createElement("div",{className:"user-buttons"},r.a.createElement(y,{getUser:this.props.getUser}),r.a.createElement("button",{className:"change-style",onClick:function(){return e.changeState()}},"or signup")):r.a.createElement("div",{className:"user-buttons"},r.a.createElement(k,{getUser:this.props.getUser}),r.a.createElement("button",{className:"change-style",onClick:function(){return e.changeState()}},"or login"))))}}]),t}(a.Component),O=(n(171),n(208)),w=n(59),C=n(213),S=(n(212),Object(O.a)(function(e){return{root:{width:300+2*e.spacing(3)},margin:{height:e.spacing(3)}}}));var x="0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",N=(Object(w.a)({root:{color:"#3880ff",height:2,padding:"15px 0"},thumb:{height:28,width:28,backgroundColor:"#fff",boxShadow:x,marginTop:-14,marginLeft:-14,"&:focus,&:hover,&$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:x}}},active:{},valueLabel:{left:"calc(-50% + 11px)",top:-22,"& *":{background:"transparent",color:"#000"}},track:{height:2},rail:{height:2,opacity:.5,backgroundColor:"#bfbfbf"},mark:{backgroundColor:"#bfbfbf",height:8,width:1,marginTop:-3},markActive:{opacity:1,backgroundColor:"currentColor"}})(C.a),Object(w.a)({root:{color:"#52af77",height:8},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus,&:hover,&$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(C.a),Object(w.a)({root:{color:"#3a8589",height:3,padding:"13px 0"},thumb:{height:27,width:27,backgroundColor:"#fff",border:"1px solid currentColor",marginTop:-12,marginLeft:-13,boxShadow:"#ebebeb 0px 2px 2px","&:focus,&:hover,&$active":{boxShadow:"#ccc 0px 2px 3px 1px"},"& .bar":{height:9,width:1,backgroundColor:"currentColor",marginLeft:1,marginRight:1}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:3},rail:{color:"#d8d8d8",opacity:1,height:3}})(C.a));function U(e){return r.a.createElement("span",e,r.a.createElement("span",{className:"bar"}),r.a.createElement("span",{className:"bar"}),r.a.createElement("span",{className:"bar"}))}function P(){var e=S();return r.a.createElement("div",{className:e.root},r.a.createElement(N,{ThumbComponent:U,getAriaLabel:function(e){return 0===e?"Minimum price":"Maximum price"},defaultValue:[20,40]}))}var D=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={loggedInUser:null,isSignup:!1,tags:[]},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"footer-style"},r.a.createElement("input",{className:"search-bar",type:"text",onKeyDown:function(t){return e.props.searchMongo(t)},placeholder:"search"}),r.a.createElement("select",{name:"filterlist",form:"filterform"},r.a.createElement("option",{value:"1"},"Filters")),r.a.createElement("input",{id:"slider1",type:"range",min:"0",max:"2000",step:"1"}),r.a.createElement(P,null))}}]),t}(a.Component),I=(n(176),n(178),n(180),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"deleteCollection",value:function(){var e=this;console.log("delete",this.props.collection._id),console.log(this.props),v.a.delete("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/").concat(this.props.collection._id)).then(function(){console.log("callingrefetchcollection",e.props.reFetch),e.props.reFetch&&e.props.reFetch()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"collectionCard"},r.a.createElement("div",{className:"collectionButtons"},r.a.createElement("h1",null,this.props.collection.name),r.a.createElement("button",{onClick:function(){return e.deleteCollection()}},"delete")),r.a.createElement(g.a,{to:"/collection/".concat(this.props.collection._id)}," ",r.a.createElement("div",{className:"collectionImages"},this.props.collection.pieces.slice(0,4).map(function(e){return r.a.createElement("div",{className:"imageSquare",style:{backgroundImage:"url(".concat(e.imageUrl,")")}})}))))}}]),t}(a.Component)),F=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={newCollection:""},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"updateNewCollection",value:function(e){this.setState(Object(d.a)({},this.state,{newCollection:e.target.value}))}},{key:"checkEnter",value:function(e){13===e.keyCode&&this.sendName()}},{key:"sendName",value:function(){var e=this;v.a.post("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/").concat(this.props.user._id),{name:this.state.newCollection}).then(function(t){return e.props.reFetch(t.data)})}},{key:"render",value:function(){var e=this;return console.log("num collections",this.props.collections.length),r.a.createElement("div",{className:"collections-style"},r.a.createElement("div",{className:"add-field"},r.a.createElement("input",{type:"text",placeholder:"create new collection",id:"create-collection",value:this.state.newCollection,onChange:function(t){return e.updateNewCollection(t)},onKeyDown:function(t){return e.checkEnter(t)}}),r.a.createElement("button",{onClick:function(){return e.sendName()}},"add")),this.props.collections.map(function(t){return r.a.createElement(I,{collection:t,reFetch:e.props.reFetch})}))}}]),t}(a.Component),L=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={profile:{}},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getProfile",value:function(e){var t=this;console.log("callingrefetchprofile",e,this.props.user);var n=e||this.props.user;n&&v.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/profile/").concat(n._id)).then(function(e){t.setUserProfile(e.data)})}},{key:"setUserProfile",value:function(e){this.setState(Object(d.a)({},this.state,{profile:e})),console.log("collections from back",e&&e.collections&&e.collections.length)}},{key:"componentWillReceiveProps",value:function(e){this.getProfile(e.user)}},{key:"componentDidMount",value:function(){this.getProfile(this.props.user)}},{key:"render",value:function(){var e=this,t=this.state.profile;return console.log("profile collections",t&&t.collections&&t.collections.length),this.props.user?r.a.createElement("div",{className:"Profile-style"},r.a.createElement("div",{className:"Profile-top"},r.a.createElement("div",{className:"Profile-name"}," ",r.a.createElement("h1",null,"perfil de ",this.props.user.username),r.a.createElement(g.a,{to:"/"},r.a.createElement("h1",null,"X"))),r.a.createElement("div",null,t&&t.collections&&r.a.createElement(F,{user:this.props.user,collections:t.collections,reFetch:function(){return e.getProfile()}})))):r.a.createElement("div",{className:"Profile-style"},r.a.createElement("div",{className:"Profile-top"},r.a.createElement("h1",null,"perfil de "),r.a.createElement(g.a,{to:"/"},r.a.createElement("h1",null,"X"))),r.a.createElement("div",{className:"Profile-body"}))}}]),t}(a.Component),A=n(23),B=(n(182),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={piece:{},user:{},isSaved:!1},n.addLike=n.addLike.bind(Object(A.a)(Object(A.a)(n))),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"getProfile",value:function(e){var t=this;console.log("callingrefetchprofile",e,this.props.user);var n=e||this.props.user;n&&v.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/profile/").concat(n._id)).then(function(e){t.setUserProfile(e.data)})}},{key:"setUserProfile",value:function(e){this.setState(Object(d.a)({},this.state,{user:e})),console.log("collections from back",e&&e.collections&&e.collections.length)}},{key:"componentWillReceiveProps",value:function(e){this.getProfile(e.user)}},{key:"componentDidMount",value:function(){var e=this;this.getProfile(this.props.user),v.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/piece/").concat(this.props.match.params.id)).then(function(t){e.setState(Object(d.a)({},e.state,{piece:t.data})),console.log("state",e.state)})}},{key:"addLike",value:function(){var e=this;console.log("like",this.state),v.a.put("".concat("https://mn3m0s1n3.herokuapp.com/api","/piece/like/").concat(this.state.piece._id)).then(function(t){console.log("pieceLiked",t.data),e.setState({piece:t.data})})}},{key:"addCollection",value:function(e){var t=this;console.log("collectionId",e,"pieceid",this.state.piece._id),v.a.put("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/add/").concat(e,"&").concat(this.state.piece._id)).then(function(e){console.log("pieceAdded",e.data),t.setState({isSaved:!t.state.isSaved})})}},{key:"deleteCollection",value:function(e){var t=this;console.log("collectionId",e,"pieceid",this.state.piece._id),v.a.put("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/del/").concat(e,"&").concat(this.state.piece._id)).then(function(e){console.log("pieceDeleted",e.data),t.setState({isSaved:!t.state.isSaved})})}},{key:"render",value:function(){var e=this;return console.log("props user",this.props.user),console.log("image",this.state.piece.imageUrl),r.a.createElement("div",{className:"detailPiece"},r.a.createElement("div",{className:"detail-card"}," ",r.a.createElement("div",{className:"detail-top"}," ",r.a.createElement("h1",null,"Detail view"),r.a.createElement(g.a,{to:"/"},r.a.createElement("h1",null,"X"))),r.a.createElement("img",{src:this.state.piece.imageUrl,alt:"image"}),r.a.createElement("h1",null,"\u2665",this.state.piece.rating),r.a.createElement("p",null,this.state.piece.name),r.a.createElement("p",null,this.state.piece.author," ",this.state.piece.year),r.a.createElement("p",null,this.state.piece.museum),r.a.createElement("button",{onClick:this.addLike},"like"),this.state.isSaved?r.a.createElement("h1",null," saved"):r.a.createElement("h1",null,"not saved"),r.a.createElement("div",{class:"dropdown"},r.a.createElement("button",{class:"dropbtn"},"Delete"),r.a.createElement("div",{class:"dropdown-content"},this.state&&this.state.user&&this.state.user.collections&&this.state.user.collections.map(function(t){return r.a.createElement("button",{onClick:function(){return e.deleteCollection(t._id)},class:"droppedbtn"},t.name)}))),r.a.createElement("div",{class:"dropdown"},r.a.createElement("button",{class:"dropbtn"},"Add"),r.a.createElement("div",{class:"dropdown-content"},this.state&&this.state.user&&this.state.user.collections&&this.state.user.collections.map(function(t){return r.a.createElement("button",{onClick:function(){return e.addCollection(t._id)},class:"droppedbtn"},t.name)})))))}}]),t}(a.Component)),M=n(13),_=(n(184),n(217)),R=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).goDetail=n.goDetail.bind(Object(A.a)(Object(A.a)(n))),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){M.g("#chart").selectAll("*").remove()}},{key:"goDetail",value:function(e){var t="/detail/".concat(e.data._id);return this.props.history.push(t)}},{key:"render",value:function(){var e,t=this.props.data,n=M.d().domain([0,100]).range([0,100]),a=M.d().domain([0,100]).range([0,100]),o=M.e().range(M.f.map(function(e){return e=M.c(e)})),c=M.i().size([100,100]).paddingInner(0).round(!1),i=M.b(t).sum(function(e){return e.value?1:0});c(i);var l=M.g("#chart").selectAll(".node").data(i.descendants()).enter().append("div").attr("class",function(e){return"node level-"+e.depth}).attr("title",function(e){return e.data.name?e.data.name:"null"});l.style("left",function(e){return n(e.x0)+"%"}).style("top",function(e){return a(e.y0)+"%"}).style("width",function(e){return n(e.x1)-n(e.x0)+"%"}).style("height",function(e){return a(e.y1)-a(e.y0)+"%"}).style("background-image",function(e){return e.value?"url(".concat(e.data.value,")"):"none"}).style("background-color",function(e){for(;e.depth>2;)e=e.parent;return o(e.data.name)}).on("click",u).append("p").attr("class","label").text(function(e){return e.data.name?e.data.name:"---"}),l.filter(function(e){return e.depth>=5}).append("button").attr("class","button-detail").on("click",this.goDetail).style("border","50px solid #FFFFFF");var s=M.g(".up").datum(i).on("click",u);function u(t){e=t.depth,s.datum(t.parent||i),n.domain([t.x0,t.x1]),a.domain([t.y0,t.y1]);var r=M.h().duration(1200).ease(M.a);l.transition(r).style("left",function(e){return n(e.x0)+"%"}).style("top",function(e){return a(e.y0)+"%"}).style("width",function(e){return n(e.x1)-n(e.x0)+"%"}).style("height",function(e){return a(e.y1)-a(e.y0)+"%"}),l.filter(function(e){return e.ancestors()}).classed("hide",function(e){return!!e.children}),l.filter(function(t){return t.depth>e}).classed("hide",!1)}return r.a.createElement("div",{className:"father"},r.a.createElement("nav",{className:"nav-bar-d3"},r.a.createElement("div",{className:"up"},"zoom out")),r.a.createElement("div",{className:"feature",id:"chart"}))}}]),t}(a.Component),z=Object(_.a)(R),T=(n(187),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{children:[{name:"Photo 1",value:"cgi-1.jpg"},{name:"Photo 1",value:"cgi-1.jpg"},{name:"Photo 5",value:"cgi-1.jpg"},{name:"Photo 1",value:"cgi-1.jpg"},{name:"Photo 1",value:"cgi-1.jpg"},{name:"Photo 1",value:"cgi-1.jpg"},{name:"Photo 1",value:"cgi-1.jpg"},{name:"Photo 1",value:"cgi-1.jpg"},{name:"Photo 1",value:"cgi-1.jpg"},{name:"Photo 1",value:"cgi-1.jpg"},{name:"Photo 1",value:"cgi-1.jpg"},{name:"Photo 1",value:"cgi-1.jpg"},{name:"Photo 5",value:"cgi-2.jpg"}]}},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"CollectionDetail-style"}," ",r.a.createElement("div",{className:"CollectionDetail-top"}," ",r.a.createElement("h1",null,"Detalle de coleccion"),r.a.createElement(g.a,{to:"/profile"},r.a.createElement("h1",null,"X")),r.a.createElement("div",{id:"treemap-detail"},r.a.createElement(z,{data:this.state.data}))))}}]),t}(a.Component)),W=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).getUser=function(e){n.setState({loggedInUser:e})},n.logout=function(){n.service.logout().then(function(){n.setState({loggedInUser:null})})},n.state={loggedInUser:null,search:"",resultsId:[],resultsDetail:[],tree:{}},n.service=new b,n.fetchUser(),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}).catch(function(t){e.setState({loggedInUser:!1})})}},{key:"searchMongo",value:function(e){var t=this;"Enter"===e.key&&v.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/pieces/").concat(e.target.value)).then(function(e){if(e=e.data){var n=e;console.log("results filteredResults",e,n);var a=t.nestByMuseum(n);t.setState({resultsDetail:n,tree:a})}})}},{key:"filterResults",value:function(e){var t=this.sortByRating(e).filter(function(e){return!!e.imageUrl});return e.length>100&&(t=e.slice(0,101)),t}},{key:"sortByRating",value:function(e){return e.sort(function(e,t){return t.rating-e.rating})}},{key:"nestByMuseum",value:function(e){var t=this,n={name:"search",value:"",children:[]};return["MET","MOMA","RMA"].forEach(function(a){var r=e.filter(function(e){return e.museum===a}),o=r[0]&&r[0].imageUrl,c=r.length?t.nestByDate(r):[],i={name:a,value:o,children:c,size:r.length};n.children.push(i)}),console.log("tree",n),n}},{key:"nestByDate",value:function(e){var t=this,n=this.getDatesFromPieces(e),a=[];return n.forEach(function(r,o){var c=e.filter(function(e){return"noDate"===r?!Number.isInteger(e.year):e.year>=r&&(!n[o+1]||e.year<n[o+1])}),i=c[0]&&c[0].imageUrl,l=c.length?t.nestByOrigin(c):[],s={name:r,value:i,children:l||[],size:c.length};a.push(s)}),a}},{key:"getDatesFromPieces",value:function(e){var t=e.map(function(e){return e.year}),n=t.filter(function(e){return Number.isInteger(e)}).sort(function(e,t){return e-t}),a=t.filter(function(e){return!Number.isInteger(e)}),r=[];if(n.length>=4){for(var o=Math.floor(n.length/3),c=0;c<n.length;c+=o)n[c]&&r.push(n[c]);r.push(n[n.length-1])}return a.length&&r.push("noDate"),console.log("years",r),r}},{key:"nestByOrigin",value:function(e){var t=this,n=["noOrigin"],a=[];return e.forEach(function(e){e.origin.length&&(e.origin.forEach(function(e){n.includes(e)||n.push(e)}),n.sort())}),console.log("nestByOrigin All",e.length),n.forEach(function(r,o){o>0&&n.slice(0,o);var c=e.filter(function(e){return e.origin.length<=0&&"noOrigin"===r||e.origin.includes(r)}),i=c[0]&&c[0].imageUrl,l=c.length?t.nestByAuthor(c):[];console.log("nestByOrigin",l.length,r);var s={name:r,value:i,children:l||[],size:c.length};l.length>0&&a.push(s)}),a}},{key:"nestByAuthor",value:function(e){var t=[],n=[];return e.forEach(function(e){e.author&&!t.includes(e.author)&&t.push(e.author)}),t.forEach(function(t,a){var r=e.filter(function(e){return e.author}).map(function(e){return e.value=e.imageUrl,e.size=.1*e.rating,e}),o={name:t,value:r[0]&&r[0].imageUrl,children:r||[],size:r.length};r.length>0&&n.push(o)}),n}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement(z,{data:this.state.tree}),r.a.createElement(j,{userInSession:this.state.loggedInUser,logout:this.logout,getUser:this.getUser}),r.a.createElement(p.a,null,r.a.createElement(m.a,{path:"/detail/:id",render:function(t){var n=t.match;return r.a.createElement(B,{user:e.state.loggedInUser,match:n})}}),r.a.createElement(m.a,{path:"/collection/:id",render:function(t){var n=t.match;return r.a.createElement(T,{user:e.state.loggedInUser,match:n})}}),r.a.createElement(m.a,{path:"/profile",render:function(t){return r.a.createElement(L,Object.assign({user:e.state.loggedInUser},t))}})),r.a.createElement(D,{searchMongo:function(t){return e.searchMongo(t)},tags:this.state.resultsDetail?this.state.resultsDetail:[]})))}}]),t}(a.Component),X=n(214);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(X.a,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[133,2,1]]]);
//# sourceMappingURL=main.bf7025e2.chunk.js.map