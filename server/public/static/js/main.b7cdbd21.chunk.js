(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,a){e.exports=a(208)},139:function(e,t,a){},141:function(e,t,a){},162:function(e,t,a){},164:function(e,t,a){},166:function(e,t,a){},170:function(e,t,a){},172:function(e,t,a){},175:function(e,t,a){},177:function(e,t,a){},179:function(e,t,a){},181:function(e,t,a){},183:function(e,t,a){},185:function(e,t,a){},187:function(e,t,a){},190:function(e,t,a){},194:function(e,t,a){},196:function(e,t,a){},198:function(e,t,a){},200:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a.n(c),i=(a(139),a(9)),o=a(10),s=a(12),u=a(11),m=a(13),h=a(20),d=(a(141),a(262)),p=a(256),f=a(22),g=a(240),v=a(17),b=a.n(v),E=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/currentUser").then(function(e){return e.data})},this.logout=function(){return t.service.get("/logout").then(function(e){return e.data})},this.service=b.a.create({baseURL:"".concat("https://mn3m0s1n3.herokuapp.com/api","/auth"),withCredentials:!0})},y=(a(162),a(21)),k=(a(164),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then(function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e)}).catch(function(e){a.setState({username:t,password:n,error:!0})})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(y.a)({},n,r))},a.state={username:"",password:""},a.service=new E,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-form"},r.a.createElement("p",null,this.state.error?"error ":""),r.a.createElement("form",{className:"loginForm",onSubmit:this.handleFormSubmit},r.a.createElement("input",{autoComplete:"off",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)},placeholder:"name:"}),r.a.createElement("input",{autoComplete:"off",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)},placeholder:"| password:"}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(n.Component)),j=(a(166),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.signup(t,n).then(function(e){a.setState({username:"",password:""}),a.props.getUser(e.user)}).catch(function(e){a.setState({username:t,password:n,error:!0})})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(y.a)({},n,r))},a.state={username:"",password:""},a.service=new E,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"signup-form"},r.a.createElement("p",null,this.state.error?"error ":""),r.a.createElement("form",{className:"signupForm",onSubmit:this.handleFormSubmit},r.a.createElement("input",{autoComplete:"off",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)},placeholder:"name:"}),r.a.createElement("input",{autoComplete:"off",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)},placeholder:"| password:"}),r.a.createElement("input",{type:"submit",value:"Sign up"})))}}]),t}(n.Component)),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleLogout=function(e){a.props.logout()},a.state={loggedInUser:null,isSignup:!1},a.service=new E,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(f.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"changeState",value:function(){this.setState({isSignup:!this.state.isSignup})}},{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"nav-style"},this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-navbar"}," ",r.a.createElement(g.a,{to:"/profile"}," ",r.a.createElement("h1",{id:"loggedname"},this.state.loggedInUser.username)),r.a.createElement("a",{id:"logoutlink",onClick:this.handleLogout},"logout"))):r.a.createElement("ul",null,this.state.isSignup?r.a.createElement("div",{className:"user-buttons"},r.a.createElement(k,{getUser:this.props.getUser}),r.a.createElement("button",{className:"change-style",onClick:function(){return e.changeState()}},"or signup")):r.a.createElement("div",{className:"user-buttons"},r.a.createElement(j,{getUser:this.props.getUser}),r.a.createElement("button",{className:"change-style",onClick:function(){return e.changeState()}},"or login"))))}}]),t}(n.Component),C=(a(170),a(44)),N=a(242),w=a(245),S=a(246),x=a(266),I=(a(172),a(28)),U=Object(N.a)({root:{width:200}});function D(e){return"".concat(e,"\xb0C")}function P(e){var t=U(),a=r.a.useState([500,1500]),n=Object(C.a)(a,2),c=n[0],l=n[1];return r.a.createElement("div",{className:t.root},r.a.createElement(w.a,{theme:I.a},r.a.createElement(S.a,{id:"range-slider",gutterBottom:!0},"Year range"),r.a.createElement(x.a,{min:0,max:2020,value:c,onChange:function(t,a){l(a),e.changeRange(a)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",getAriaValueText:D})))}var M=a(98),R=a(99),A=a(253),F=(a(179),Object(N.a)(function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}}));function L(e){var t=F();return r.a.createElement("div",{className:t.root},r.a.createElement("label",{htmlFor:"outlined-button-file"},r.a.createElement(w.a,{theme:I.a},r.a.createElement(A.a,{onClick:e.sendResults,variant:"outlined",component:"span"},"FIND"))))}var z=a(250),T=a(248),W=a(254),_=a(255),B=a(260),Y=(a(181),Object(N.a)(function(e){return{root:{display:"flex"},formControl:{margin:e.spacing(3)}}}));function K(){var e,t,a,n=Y(),c=r.a.useState({gilad:!0,jason:!1,antoine:!1}),l=Object(C.a)(c,2),i=l[0],o=l[1],s=function(e){return function(t){o(Object(f.a)({},i,Object(y.a)({},e,t.target.checked)))}},u=i.rijks,m=i.met,h=i.moma,d=i.prado,p=i.louvre;[u,m,h,d,p,i.british].filter(function(e){return e}).length;return r.a.createElement("div",{className:n.root},r.a.createElement(w.a,{theme:I.a},r.a.createElement(T.a,{component:"fieldset",className:n.formControl},r.a.createElement(z.a,{component:"legend"},"Pick Database"),r.a.createElement(W.a,null,r.a.createElement("div",{className:"two-columns"}," ",r.a.createElement("div",{className:"one-column"}," ",r.a.createElement(_.a,{className:"check-label",control:r.a.createElement(B.a,(e={checked:u,onChange:s("rijks"),value:"rijks"},Object(y.a)(e,"checked",!0),Object(y.a)(e,"disabled",!0),e)),label:"Rijks"}),r.a.createElement(_.a,{className:"check-label",control:r.a.createElement(B.a,(t={checked:m,onChange:s("met"),value:"met"},Object(y.a)(t,"checked",!0),Object(y.a)(t,"disabled",!0),t)),label:"MET"})),r.a.createElement("div",{className:"one-column"},r.a.createElement(_.a,{className:"check-label",control:r.a.createElement(B.a,{checked:p,onChange:s("louvre"),value:"louvre",disabled:!0}),label:"Louvre"})," ",r.a.createElement(_.a,{className:"check-label",control:r.a.createElement(B.a,(a={checked:h,onChange:s("moma"),value:"moma"},Object(y.a)(a,"checked",!0),Object(y.a)(a,"disabled",!0),a)),label:"MoMA"})))))))}var V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={loggedInUser:null,isSignup:!1,tags:[],textFieldValue:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"footer-style"},r.a.createElement("img",{className:"mnemosine-logo",src:"/images/logo-mnemosine.png"}),r.a.createElement(K,null),r.a.createElement(R.a,{onChange:function(t){return e.props.saveSearch(t)},onKeyDown:function(t){return e.props.searchMongo(t)}}),r.a.createElement(M.a,{onSelectTag:function(t){return e.props.multipleSelectResult(t)}}),r.a.createElement(P,{changeRange:function(t){return e.props.sliderResult(t)}}),r.a.createElement(L,{sendResults:this.props.sendResults}))}}]),t}(n.Component),q=a(86);function J(e){var t={name:"search",value:"",children:[]};return["MET","RMA","MOMA"].forEach(function(a){var n=e.filter(function(e){return e.museum===a}),r=n[0]&&n[0].imageUrl,c=n[0]&&n[0].rating,l=n.length?function(e){var t=function(e){var t=e.map(function(e){return Math.abs(e.year)}),a=t.filter(function(e){return Number.isInteger(e)}).sort(function(e,t){return e-t}),n=t.filter(function(e){return!Number.isInteger(e)}),r=[];if(a.length>=4){for(var c=Math.floor(a.length/3),l=0;l<a.length;l+=c)a[l]&&r.push(a[l]);r.push(a[a.length-1])}else r.push.apply(r,Object(q.a)(a));n.length&&r.push("noDate");return Object(q.a)(new Set(r))}(e),a=[];return t.forEach(function(n,r){var c=e.filter(function(e){return"noDate"===n?!Number.isInteger(e.year):e.year>=n&&(!t[r+1]||e.year<t[r+1])}),l=c[0]&&c[0].imageUrl,i=c[0]&&c[0].rating,o=c.length>0?function(e){var t=["noOrigin"],a=[];return e.forEach(function(e){if(e.origin.length){var a=e.origin[0];t.includes(a)||t.push(a),t.sort()}}),t.forEach(function(t,n){var r=e.filter(function(e){return e.origin.length<=0&&"noOrigin"===t||e.origin[0]===t}),c=r[0]&&r[0].imageUrl,l=r[0]&&r[0].rating,i=r.length?function(e){var t=[],a=[];return e.forEach(function(e){e.author&&!t.includes(e.author)&&t.push(e.author)}),t.forEach(function(t,n){var r=e.filter(function(e){return e.author===t}).map(function(e){return e.value=e.imageUrl,e.size=.1*e.rating,e}),c=r[0]&&r[0].imageUrl,l=r[0]&&r[0].rating,i={name:t,value:c,children:r||[],size:l};r.length>0&&a.push(i)}),a}(r):[],o={name:t,value:c,children:i||[],size:l};i.length>0&&a.push(o)}),a}(c):[],s={name:n,value:l,children:o,size:i};o.length&&a.push(s)}),a}(n):[],i={name:a,value:r,children:l,size:c};l.length&&t.children.push(i)}),t}var G=a(263),H=(a(183),a(185),a(187),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"deleteCollection",value:function(){var e=this;b.a.delete("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/").concat(this.props.collection._id)).then(function(){e.props.reFetch&&e.props.reFetch()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"collectionCard"},r.a.createElement("div",{className:"collectionButtons"},r.a.createElement("h1",null,this.props.collection.name),r.a.createElement("button",{className:"button-moved-right",onClick:function(){return e.deleteCollection()}},"delete")),r.a.createElement(g.a,{to:"/collection/".concat(this.props.collection._id)}," ",r.a.createElement("div",{className:"collectionImages"},this.props.collection.pieces.slice(0,4).map(function(e){return r.a.createElement("div",{className:"imageSquare",style:{backgroundImage:"url(".concat(e.imageUrl,")")}})}))))}}]),t}(n.Component)),X=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={newCollection:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"updateNewCollection",value:function(e){this.setState(Object(f.a)({},this.state,{newCollection:e.target.value}))}},{key:"checkEnter",value:function(e){13===e.keyCode&&this.sendName()}},{key:"sendName",value:function(){var e=this;b.a.post("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/").concat(this.props.user._id),{name:this.state.newCollection}).then(function(t){return e.props.reFetch(t.data)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"collections-style"},r.a.createElement("div",{className:"add-field"},r.a.createElement("input",{autoComplete:"off",type:"text",placeholder:"create new collection",id:"create-collection",value:this.state.newCollection,onChange:function(t){return e.updateNewCollection(t)},onKeyDown:function(t){return e.checkEnter(t)}}),r.a.createElement("button",{onClick:function(){return e.sendName()}},"add")),this.props.collections.map(function(t){return r.a.createElement(H,{collection:t,reFetch:e.props.reFetch})}))}}]),t}(n.Component),$=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={profile:{}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getProfile",value:function(e){var t=this,a=e||this.props.user;a&&b.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/profile/").concat(a._id)).then(function(e){t.setUserProfile(e.data)})}},{key:"setUserProfile",value:function(e){this.setState(Object(f.a)({},this.state,{profile:e}))}},{key:"componentWillReceiveProps",value:function(e){this.getProfile(e.user)}},{key:"componentDidMount",value:function(){this.getProfile(this.props.user)}},{key:"render",value:function(){var e=this,t=this.state.profile;return this.props.user?r.a.createElement("div",{className:"Profile-style"},r.a.createElement("div",{className:"Profile-top"},r.a.createElement("div",{className:"Profile-name"}," ",r.a.createElement("h1",null,"Profile of ",this.props.user.username),r.a.createElement("button",{onClick:this.props.history.goBack},"Close")),r.a.createElement("div",null,t&&t.collections&&r.a.createElement(X,{user:this.props.user,collections:t.collections,reFetch:function(){return e.getProfile()}})))):r.a.createElement("div",{className:"Profile-style"},r.a.createElement("div",{className:"Profile-top"},r.a.createElement("h1",null,"Profile of "),r.a.createElement(g.a,{to:"/"},r.a.createElement("h1",null,"X"))),r.a.createElement("div",{className:"Profile-body"}))}}]),t}(n.Component),Q=Object(G.a)($),Z=(a(190),a(102)),ee=a(103),te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={piece:{},user:{},isSaved:!1,imageClass:""},a.addLike=a.addLike.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getProfile",value:function(e){var t=this,a=e||this.props.user;a&&b.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/profile/").concat(a._id)).then(function(e){t.setUserProfile(e.data)})}},{key:"setUserProfile",value:function(e){var t=this,a=e.collections&&e.collections.some(function(e){return e.pieces.find(function(e){return e._id===t.props.match.params.id})});this.setState(Object(f.a)({},this.state,{user:e,isSaved:a}))}},{key:"componentWillReceiveProps",value:function(e){this.getProfile(e.user)}},{key:"componentDidMount",value:function(){var e=this;this.getProfile(this.props.user),b.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/piece/").concat(this.props.match.params.id)).then(function(t){var a="",n=new Image;n.src=t.data.imageUrl,n.onload=function(){var r=n.height/n.width;r>.9&&r<1.1?a="square-img":r>=1.1?a="vertical-img":r<=.9&&(a="horizontal-img"),e.setState(Object(f.a)({},e.state,{piece:t.data,imageClass:a}))}})}},{key:"addLike",value:function(){var e=this;b.a.put("".concat("https://mn3m0s1n3.herokuapp.com/api","/piece/like/").concat(this.state.piece._id)).then(function(t){e.setState({piece:t.data})})}},{key:"addCollection",value:function(e){var t=this;b.a.put("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/add/").concat(e,"&").concat(this.state.piece._id)).then(function(e){t.getProfile(t.state.user)})}},{key:"deleteCollection",value:function(e){var t=this;b.a.put("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/del/").concat(e,"&").concat(this.state.piece._id)).then(function(e){t.getProfile(t.state.user)})}},{key:"render",value:function(){var e=this,t=this.state.piece,a=t.origin,n=t.technic,c=t.tags,l=t.museum,i=t.name,o=t.imageUrl,s=t.description,u=t.author,m=t.year,h=t.culture,d=t.classification,p=t.rating,f=t.department,g=t.museumId;return r.a.createElement("div",{className:"detailPiece"},r.a.createElement("div",{className:"detail-card"},r.a.createElement("div",{className:"detail-top"},r.a.createElement("h1",null,"Detail view"),r.a.createElement("button",{onClick:this.props.history.goBack},"Close")),r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{className:this.state.imageClass,src:o})),r.a.createElement("div",{className:"detail-buttons"},r.a.createElement("h1",null,r.a.createElement(Z.a,{icon:ee.a}),p),r.a.createElement("button",{onClick:this.addLike},"like"),r.a.createElement("div",{class:"dropdown"},r.a.createElement("button",{class:"dropbtn"},"Add"),r.a.createElement("div",{class:"dropdown-content"},this.state&&this.state.user&&this.state.user.collections&&this.state.user.collections.filter(function(t){return t.pieces.every(function(t){return t._id!==e.props.match.params.id})}).map(function(t){return r.a.createElement("button",{onClick:function(){return e.addCollection(t._id)},class:"droppedbtn"},t.name)}))),this.state.isSaved&&r.a.createElement("div",{class:"dropdown"},r.a.createElement("button",{class:"dropbtn"},"Delete"),r.a.createElement("div",{class:"dropdown-content"},this.state&&this.state.user&&this.state.user.collections&&this.state.user.collections.filter(function(t){return t.pieces.some(function(t){return t._id===e.props.match.params.id})}).map(function(t){return r.a.createElement("button",{onClick:function(){return e.deleteCollection(t._id)},class:"droppedbtn"},t.name)})))),r.a.createElement("div",{className:"detail-text"}," ",r.a.createElement("h1",null,i),u&&r.a.createElement("p",null,"author: ",u),m&&r.a.createElement("p",null,"year: ",m),"RMA"===l?r.a.createElement("p",null,"Rijksmuseum of Amsterdam"):"MOMA"===l?r.a.createElement("p",null,"MoMA New York"):r.a.createElement("p",null,"Metropolitan Museum of Art"),g&&r.a.createElement("p",null,"museumId: ",g),n&&r.a.createElement("p",null,"technic: ",n),a&&r.a.createElement("p",null,"origin:",a&&r.a.createElement("p",null,a[0])),c&&r.a.createElement("p",null,"tags:",c&&c.map(function(e){return r.a.createElement("p",null,e)})),s&&r.a.createElement("p",null,"description: ",s),h&&r.a.createElement("p",null,"culture: ",h),d&&r.a.createElement("p",null,"classification: ",d),f&&r.a.createElement("p",null,"department: ",f))))}}]),t}(n.Component),ae=Object(G.a)(te),ne=a(16),re=(a(194),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).goDetail=a.goDetail.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){ne.e("#chart").selectAll("*").remove()}},{key:"goDetail",value:function(e){var t="/detail/".concat(e.data._id);return this.props.history.push(t)}},{key:"render",value:function(){var e,t=this.props.data,a=ne.d().domain([0,100]).range([0,100]),n=ne.d().domain([0,100]).range([0,100]),c=ne.c,l=ne.g().size([100,100]).paddingInner(0).round(!1),i=ne.b(t).sum(function(e){return e.value?1:0});l(i);var o=ne.e("#chart").selectAll(".node").data(i.descendants()).enter().append("div").attr("class",function(e){return"node level-"+e.depth}).attr("title",function(e){return e.data.name?e.data.name:"null"});o.style("left",function(e){return a(e.x0)+"%"}).style("top",function(e){return n(e.y0)+"%"}).style("width",function(e){return a(e.x1)-a(e.x0)+"%"}).style("height",function(e){return n(e.y1)-n(e.y0)+"%"}).style("background-image",function(e){return e.value?"url(".concat(e.data.value,")"):"none"}).style("background-color",function(e){for(;e.depth>2;)e=e.parent;return c(e.data.name)}).on("click",u).append("p").attr("class","label").text(function(e){return e.data.name?e.data.name:"---"}),o.filter(function(e){return e.depth>=5}).append("button").html("&#65291;").attr("class","button-detail").on("click",this.goDetail);var s=ne.e(".up").datum(i).on("click",u);function u(t){e=t.depth;ne.e(".up").text(e<=0?"nested by museum":e<=1?"zoom out - nested by time":e<=2?"zoom out - nested by origin":e<=3?"zoom out - nested by author":"zoom out - single piece");s.datum(t.parent||i),a.domain([t.x0,t.x1]),n.domain([t.y0,t.y1]);var r=ne.f().duration(1200).ease(ne.a);o.transition(r).style("left",function(e){return a(e.x0)+"%"}).style("top",function(e){return n(e.y0)+"%"}).style("width",function(e){return a(e.x1)-a(e.x0)+"%"}).style("height",function(e){return n(e.y1)-n(e.y0)+"%"}),o.filter(function(e){return e.ancestors()}).classed("hide",function(e){return!!e.children}),o.filter(function(t){return t.depth>e}).classed("hide",!1)}return r.a.createElement("div",{className:"father"},r.a.createElement("nav",{className:"nav-bar-d3"},r.a.createElement("div",{className:"up"},"nested by museum")),r.a.createElement("div",{className:"feature",id:"chart"}))}}]),t}(n.Component)),ce=Object(G.a)(re),le=(a(196),a(198),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).goDetail=a.goDetail.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){ne.e("#chart-small").selectAll("*").remove()}},{key:"goDetail",value:function(e){var t="/detail/".concat(e.data._id);return this.props.history.push(t)}},{key:"render",value:function(){var e,t=this.props.data,a=ne.d().domain([0,80]).range([0,80]),n=ne.d().domain([0,80]).range([0,80]),c=ne.c,l=ne.g().size([80,80]).paddingInner(0).round(!1),i=ne.b(t).sum(function(e){return e.value?1:0});l(i);var o=ne.e("#chart-small").selectAll(".node").data(i.descendants()).enter().append("div").attr("class",function(e){return"node-small level-small-"+e.depth}).attr("title",function(e){return e.data.name?e.data.name:"null"}).attr("transform","translate(90 90)");o.attr("transform","translate(90 90)").style("left",function(e){return a(e.x0)+"%"}).style("top",function(e){return n(e.y0)+"%"}).style("width",function(e){return a(e.x1)-a(e.x0)+"%"}).style("height",function(e){return n(e.y1)-n(e.y0)+"%"}).style("background-image",function(e){return e.value?"url(".concat(e.data.value,")"):"none"}).style("background-color",function(e){for(;e.depth>2;)e=e.parent;return c(e.data.name)}).on("click",u).append("p").attr("class","label").text(function(e){return e.data.name?e.data.name:"---"}),o.filter(function(e){return e.depth>=5}).append("button").attr("class","button-detail").on("click",this.goDetail).html("&#65291;");var s=ne.e(".up-small").datum(i).on("click",u);function u(t){e=t.depth;ne.e(".up-small").text(e<=0?"":"zoom out");s.datum(t.parent||i),a.domain([t.x0,t.x1]),n.domain([t.y0,t.y1]);var r=ne.f().duration(1200).ease(ne.a);o.transition(r).style("left",function(e){return a(e.x0)+"%"}).style("top",function(e){return n(e.y0)+"%"}).style("width",function(e){return a(e.x1)-a(e.x0)+"%"}).style("height",function(e){return n(e.y1)-n(e.y0)+"%"}),o.filter(function(e){return e.ancestors()}).classed("hide",function(e){return!!e.children}),o.filter(function(t){return t.depth>e}).classed("hide",!1)}return r.a.createElement("div",{className:"father-small"},r.a.createElement("nav",{className:"nav-bar-d3-small"},r.a.createElement("div",{className:"up-small"})),r.a.createElement("div",{className:"feature-small",id:"chart-small"}))}}]),t}(n.Component)),ie=Object(G.a)(le),oe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collection:{},treeData:{},data:{children:[{name:"Photo 1",value:"cgi-1.jpg"},{name:"Photo 1",value:"cgi-1.jpg"}]}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;b.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/").concat(this.props.match.params.id)).then(function(t){var a=J(t.data.pieces);e.setState(Object(f.a)({},e.state,{collection:t.data,treeData:a}))})}},{key:"render",value:function(){return r.a.createElement("div",{className:"CollectionDetail-style"},r.a.createElement("div",{className:"CollectionDetail-top"},r.a.createElement("div",{className:"CollectionDetail-buttons"},r.a.createElement("h1",null,this.state.collection.name),r.a.createElement("button",{onClick:this.props.history.goBack},"Close")),r.a.createElement("div",null,r.a.createElement(ie,{data:this.state.treeData}))))}}]),t}(n.Component),se=Object(G.a)(oe),ue=(a(200),function(e){function t(e){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"initialcard"},r.a.createElement("button",{onClick:this.props.closeInitialCard},"\u2015"),r.a.createElement("p",null,r.a.createElement("span",{className:"bold-text"},"mnemosine")," is a tool for browsing media databases"," "),r.a.createElement("br",null),r.a.createElement("p",null,"At the beggining, a random sample of the archive from the Metropolitan Museum of Art, Museum of Modern Art and Rijksmuseum of Amsterdam are showed. In total there are more than 1.230.000 pieces of art reachable through their APIs and databases."),r.a.createElement("br",null),r.a.createElement("p",null,"You can use the search bar in combination with the selector of tags and the range of years to find more results according to your interests."),r.a.createElement("br",null),r.a.createElement("ul",{className:"important-text"},r.a.createElement("li",{className:"important-text"},"The results are nested in 5 levels:"),r.a.createElement("li",null,r.a.createElement("span",{className:"bold-text"},"1")," Database to which they belong"),r.a.createElement("li",null,r.a.createElement("span",{className:"bold-text"},"2")," Year of creation"),r.a.createElement("li",null,r.a.createElement("span",{className:"bold-text"},"3")," Geographical origin"),r.a.createElement("li",null,r.a.createElement("span",{className:"bold-text"},"4")," Author"),r.a.createElement("li",null,r.a.createElement("span",{className:"bold-text"},"5")," Single piece")),r.a.createElement("br",null),r.a.createElement("p",null,"In the last level, you can open a new tab and get full info of the piece."),r.a.createElement("br",null),r.a.createElement("p",null,"You can like any item! They are showed bigger when they gain likes."),r.a.createElement("br",null),r.a.createElement("p",{className:"important-text"},"Sign up and create your own collections adding pieces to them."),r.a.createElement("br",null),r.a.createElement("p",null,"The aim of the project is make possible connect more and more media databases."))}}]),t}(n.Component)),me=a(202),he=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.service.logout().then(function(){a.setState({loggedInUser:null})})},a.state={loggedInUser:null,search:"",searchText:"",filters:[],yearRange:[],dataBases:["RMA","MOMA","MET"],resultsId:[],resultsDetail:[],tree:{},isLoaded:!0,introOpen:!0},a.service=new E,a.fetchUser(),a.sendSearch=a.sendSearch.bind(Object(h.a)(Object(h.a)(a))),a.closeInitialCard=a.closeInitialCard.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.randomSearch()}},{key:"randomSearch",value:function(){var e=this;b.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/piecesrandom")).then(function(t){if(t=t.data){var a=t,n=J(a,e.nodeLength);e.setState({resultsDetail:a,tree:n})}})}},{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}).catch(function(t){e.setState({loggedInUser:!1})})}},{key:"setLoaded",value:function(){this.setState({loaded:!0})}},{key:"searchMongo",value:function(e){var t=this;"Enter"===e.key&&(this.setState({isLoaded:!1}),setTimeout(function(){this.setState({isLoaded:!0})}.bind(this),4e3),e.preventDefault(),b.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/pieces/").concat(e.target.value)).then(function(e){if(e=e.data){var a=e,n=J(a,t.nodeLength);t.setState({resultsDetail:a,tree:n})}}))}},{key:"sliderResult",value:function(e){this.setState({yearRange:e})}},{key:"saveSearch",value:function(e){this.setState({searchText:e.target.value})}},{key:"multipleSelectResult",value:function(e){this.setState({filters:e.target.value})}},{key:"sendSearch",value:function(){var e=this;this.setState({isLoaded:!1}),setTimeout(function(){this.setState({isLoaded:!0})}.bind(this),4e3),b.a.post("".concat("https://mn3m0s1n3.herokuapp.com/api","/find"),{searchText:this.state.searchText||"",filters:this.state.filters||[""],yearRange:this.state.yearRange||[-1e3,2e3]}).then(function(t){if(t=t.data){var a=t,n=J(a,e.nodeLength);e.setState({resultsDetail:a,tree:n})}})}},{key:"closeInitialCard",value:function(){this.setState({introOpen:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},this.state.introOpen&&r.a.createElement(ue,{closeInitialCard:this.closeInitialCard}),r.a.createElement(me,{loaded:this.state.isLoaded,options:{lines:13,length:62,width:19,radius:39,scale:.2,corners:1,color:"#ffffff",fadeColor:"transparent",speed:.8,rotate:0,animation:"spinner-line-fade-default",direction:1,zIndex:2e9,className:"spinner",top:"48%",left:"50%",shadow:"0 0 5px black",position:"absolute"}}),r.a.createElement(ce,{setLoaded:this.setLoaded,data:this.state.tree}),r.a.createElement(O,{userInSession:this.state.loggedInUser,logout:this.logout,getUser:this.getUser}),r.a.createElement(d.a,null,r.a.createElement(p.a,{path:"/detail/:id",render:function(t){var a=t.match;return r.a.createElement(ae,{user:e.state.loggedInUser,match:a})}}),r.a.createElement(p.a,{path:"/collection/:id",render:function(t){var a=t.match;return r.a.createElement(se,{user:e.state.loggedInUser,match:a})}}),r.a.createElement(p.a,{path:"/profile",render:function(t){return r.a.createElement(Q,Object.assign({user:e.state.loggedInUser},t))}})),r.a.createElement(V,{sendResults:this.sendSearch,sliderResult:function(t){return e.sliderResult(t)},multipleSelectResult:function(t){return e.multipleSelectResult(t)},saveSearch:function(t){return e.saveSearch(t)},searchMongo:function(t){return e.searchMongo(t)},tags:this.state.resultsDetail?this.state.resultsDetail:[]})))}}]),t}(n.Component),de=a(261);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(de.a,null,r.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},28:function(e,t,a){"use strict";var n=a(85),r=Object(n.a)({palette:{type:"dark",primary:{light:"#7986cb",main:"#FFFFFF",dark:"#303f9f"},secondary:{light:"#7986cb",main:"#7986cb",dark:"#7986cb"},typography:{htmlFontSize:1,fontSize:1},h1:{fontsize:"5rem"}},status:{}});t.a=r},98:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return k});var n=a(44),r=a(0),c=a.n(r),l=(a(4),a(242)),i=a(33),o=a(245),s=a(251),u=a(249),m=a(210),h=a(248),d=a(257),p=a(209),f=(a(175),a(28)),g=e.window.innerWidth,v=Object(l.a)(function(e){return{formControl:{margin:e.spacing(1),minWidth:g/4,maxWidth:g/4},chips:{display:"flex"},chip:{margin:0},noLabel:{marginTop:e.spacing(0)}}}),b={PaperProps:{style:{maxHeight:180,width:g/4}}},E=["Red","Birds","Paintings","Architecture","Sky"];function y(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}function k(e){var t=v(),a=Object(i.a)(),r=c.a.useState([]),l=Object(n.a)(r,2),g=l[0],k=l[1];return c.a.createElement("div",null,c.a.createElement(o.a,{theme:f.a},c.a.createElement(h.a,{className:t.formControl},c.a.createElement(u.a,{id:"demo-mutiple-chip-label"},"Filters"),c.a.createElement(d.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:g,onChange:function(t){k(t.target.value),e.onSelectTag(t)},input:c.a.createElement(s.a,{id:"select-multiple-chip"}),renderValue:function(e){return c.a.createElement("div",{className:t.chips},e.map(function(e){return c.a.createElement(p.a,{key:e,label:e,className:t.chip})}))},MenuProps:b},E.map(function(e){return c.a.createElement(m.a,{key:e,value:e,style:y(e,g,a)},e)})))))}}).call(this,a(51))},99:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return m});var n=a(0),r=a.n(n),c=a(242),l=a(245),i=a(211),o=(a(177),a(28)),s=e.window.innerWidth,u=Object(c.a)(function(e){return{root:{"& > *":{margin:e.spacing(1),width:s/5}}}});function m(e){var t=u();return r.a.createElement("div",{className:"input-text-field"},"   ",r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off"},r.a.createElement(l.a,{theme:o.a},r.a.createElement(i.a,{onChange:e.onChange,onKeyPress:e.onKeyDown,id:"standard-basic",label:"Search"}))))}}).call(this,a(51))}},[[134,2,1]]]);
//# sourceMappingURL=main.b7cdbd21.chunk.js.map