(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return m});var n=a(0),r=a.n(n),o=a(236),c=a(239),l=a(205),i=(a(179),a(28)),s=e.window.innerWidth,u=Object(o.a)(function(e){return{root:{"& > *":{margin:e.spacing(1),width:s/5}}}});function m(e){var t=u();return r.a.createElement("div",{className:"input-text-field"},"   ",r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off"},r.a.createElement(c.a,{theme:i.a},r.a.createElement(l.a,{onKeyPress:e.onKeyDown,id:"standard-basic",label:"Search"}))))}}).call(this,a(51))},135:function(e,t,a){e.exports=a(202)},140:function(e,t,a){},142:function(e,t,a){},145:function(e,t,a){},164:function(e,t,a){},166:function(e,t,a){},168:function(e,t,a){},172:function(e,t,a){},174:function(e,t,a){},177:function(e,t,a){},179:function(e,t,a){},181:function(e,t,a){},183:function(e,t,a){},185:function(e,t,a){},187:function(e,t,a){},189:function(e,t,a){},192:function(e,t,a){},196:function(e,t,a){},198:function(e,t,a){},200:function(e,t,a){},202:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),c=a.n(o),l=(a(140),a(9)),i=a(11),s=a(13),u=a(12),m=a(14),d=(a(142),a(145),a(256)),h=a(250),p=a(21),f=a(234),g=a(19),v=a.n(g),b=function e(){var t=this;Object(l.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/currentUser").then(function(e){return e.data})},this.logout=function(){return t.service.get("/logout").then(function(e){return e.data})},this.service=v.a.create({baseURL:"".concat("https://mn3m0s1n3.herokuapp.com/api","/auth"),withCredentials:!0})},E=(a(164),a(20)),y=(a(166),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then(function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e)}).catch(function(e){a.setState({username:t,password:n,error:!0})})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.state={username:"",password:""},a.service=new b,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-form"},r.a.createElement("p",null,this.state.error?"error ":""),r.a.createElement("form",{className:"loginForm",onSubmit:this.handleFormSubmit},r.a.createElement("input",{autoComplete:"off",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)},placeholder:"name:"}),r.a.createElement("input",{autoComplete:"off",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)},placeholder:"| password:"}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(n.Component)),k=(a(168),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.signup(t,n).then(function(e){a.setState({username:"",password:""}),a.props.getUser(e.user)}).catch(function(e){a.setState({username:t,password:n,error:!0})})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.state={username:"",password:""},a.service=new b,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"signup-form"},r.a.createElement("p",null,this.state.error?"error ":""),r.a.createElement("form",{className:"signupForm",onSubmit:this.handleFormSubmit},r.a.createElement("input",{autoComplete:"off",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)},placeholder:"name:"}),r.a.createElement("input",{autoComplete:"off",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)},placeholder:"| password:"}),r.a.createElement("input",{type:"submit",value:"Sign up"})))}}]),t}(n.Component)),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleLogout=function(e){a.props.logout()},a.state={loggedInUser:null,isSignup:!1},a.service=new b,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(p.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"changeState",value:function(){this.setState({isSignup:!this.state.isSignup})}},{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"nav-style"},this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-navbar"}," ",r.a.createElement(f.a,{to:"/profile"}," ",r.a.createElement("h1",null,this.state.loggedInUser.username)),r.a.createElement("a",{onClick:this.handleLogout},"logout"))):r.a.createElement("ul",null,this.state.isSignup?r.a.createElement("div",{className:"user-buttons"},r.a.createElement(y,{getUser:this.props.getUser}),r.a.createElement("button",{className:"change-style",onClick:function(){return e.changeState()}},"or signup")):r.a.createElement("div",{className:"user-buttons"},r.a.createElement(k,{getUser:this.props.getUser}),r.a.createElement("button",{className:"change-style",onClick:function(){return e.changeState()}},"or login"))))}}]),t}(n.Component),O=(a(172),a(44)),C=a(236),N=a(239),w=a(240),S=a(260),U=(a(174),a(28)),D=Object(C.a)({root:{width:200}});function x(e){return"".concat(e,"\xb0C")}function P(){var e=D(),t=r.a.useState([20,37]),a=Object(O.a)(t,2),n=a[0],o=a[1];return r.a.createElement("div",{className:e.root},r.a.createElement(N.a,{theme:U.a},r.a.createElement(w.a,{id:"range-slider",gutterBottom:!0},"Year range"),r.a.createElement(S.a,{value:n,onChange:function(e,t){o(t)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",getAriaValueText:x})))}var I=a(99),F=a(100),M=a(247),A=(a(181),Object(C.a)(function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}}));function L(){var e=A();return r.a.createElement("div",{className:e.root},r.a.createElement("label",{htmlFor:"outlined-button-file"},r.a.createElement(N.a,{theme:U.a},r.a.createElement(M.a,{variant:"outlined",component:"span"},"FIND"))))}var _=a(244),W=a(242),z=a(248),R=a(249),B=a(254),V=(a(183),Object(C.a)(function(e){return{root:{display:"flex"},formControl:{margin:e.spacing(3)}}}));function K(){var e,t,a,n=V(),o=r.a.useState({gilad:!0,jason:!1,antoine:!1}),c=Object(O.a)(o,2),l=c[0],i=c[1],s=function(e){return function(t){i(Object(p.a)({},l,Object(E.a)({},e,t.target.checked)))}},u=l.rijks,m=l.met,d=l.moma,h=l.prado,f=l.louvre;[u,m,d,h,f,l.british].filter(function(e){return e}).length;return r.a.createElement("div",{className:n.root},r.a.createElement(N.a,{theme:U.a},r.a.createElement(W.a,{component:"fieldset",className:n.formControl},r.a.createElement(_.a,{component:"legend"},"Pick Database"),r.a.createElement(z.a,null,r.a.createElement("div",{className:"two-columns"}," ",r.a.createElement("div",{className:"one-column"}," ",r.a.createElement(R.a,{className:"check-label",control:r.a.createElement(B.a,(e={checked:u,onChange:s("rijks"),value:"rijks"},Object(E.a)(e,"checked",!0),Object(E.a)(e,"disabled",!0),e)),label:"Rijks"}),r.a.createElement(R.a,{className:"check-label",control:r.a.createElement(B.a,(t={checked:m,onChange:s("met"),value:"met"},Object(E.a)(t,"checked",!0),Object(E.a)(t,"disabled",!0),t)),label:"MET"})),r.a.createElement("div",{className:"one-column"},r.a.createElement(R.a,{className:"check-label",control:r.a.createElement(B.a,{checked:f,onChange:s("louvre"),value:"louvre",disabled:!0}),label:"Louvre"})," ",r.a.createElement(R.a,{className:"check-label",control:r.a.createElement(B.a,(a={checked:d,onChange:s("moma"),value:"moma"},Object(E.a)(a,"checked",!0),Object(E.a)(a,"disabled",!0),a)),label:"MoMA"})))))))}var T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={loggedInUser:null,isSignup:!1,tags:[],textFieldValue:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"footer-style"},r.a.createElement("img",{className:"mnemosine-logo",src:"/images/logo-mnemosine.png"}),r.a.createElement(K,null),r.a.createElement(F.a,{onKeyDown:function(t){return e.props.searchMongo(t)}}),r.a.createElement(I.a,null),r.a.createElement(P,null),r.a.createElement(L,null))}}]),t}(n.Component),q=a(86);function J(e){var t={name:"search",value:"",children:[]};return["MET","MOMA","RMA"].forEach(function(a){var n=e.filter(function(e){return e.museum===a}),r=n[0]&&n[0].imageUrl,o=n.length?function(e){var t=function(e){var t=e.map(function(e){return Math.abs(e.year)}),a=t.filter(function(e){return Number.isInteger(e)}).sort(function(e,t){return e-t}),n=t.filter(function(e){return!Number.isInteger(e)}),r=[];if(a.length>=4){for(var o=Math.floor(a.length/3),c=0;c<a.length;c+=o)a[c]&&r.push(a[c]);r.push(a[a.length-1])}else r.push.apply(r,Object(q.a)(a));n.length&&r.push("noDate");return Object(q.a)(new Set(r))}(e);console.log("mainDates",t);var a=[];return t.forEach(function(n,r){var o=e.filter(function(e){return"noDate"===n?!Number.isInteger(e.year):e.year>=n&&(!t[r+1]||e.year<t[r+1])}),c=o[0]&&o[0].imageUrl,l=o.length>0?function(e){var t=["noOrigin"],a=[];return e.forEach(function(e){if(e.origin.length){var a=e.origin[0];t.includes(a)||t.push(a),t.sort()}}),t.forEach(function(n,r){r>0&&t.slice(0,r);var o=e.filter(function(e){return e.origin.length<=0&&"noOrigin"===n||e.origin[0]===n}),c=o[0]&&o[0].imageUrl,l=o.length?function(e){var t=[],a=[];return e.forEach(function(e){e.author&&!t.includes(e.author)&&t.push(e.author)}),t.forEach(function(t,n){var r=e.filter(function(e){return e.author===t}).map(function(e){return e.value=e.imageUrl,e.size=.1*e.rating,e}),o=r[0]&&r[0].imageUrl,c={name:t,value:o,children:r||[],size:r.length};r.length>0&&a.push(c)}),a}(o):[],i={name:n,value:c,children:l||[],size:o.length};l.length>0&&a.push(i)}),a}(o):[],i={name:n,value:c,children:l,size:o.length};l.length&&a.push(i)}),a}(n):[],c={name:a,value:r,children:o,size:n.length};o.length&&t.children.push(c)}),console.log("tree",t),t}var Y,$=a(257),H=(a(185),a(187),a(189),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"deleteCollection",value:function(){var e=this;console.log("delete",this.props.collection._id),console.log(this.props),v.a.delete("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/").concat(this.props.collection._id)).then(function(){console.log("callingrefetchcollection",e.props.reFetch),e.props.reFetch&&e.props.reFetch()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"collectionCard"},r.a.createElement("div",{className:"collectionButtons"},r.a.createElement("h1",null,this.props.collection.name),r.a.createElement("button",{className:"button-moved-right",onClick:function(){return e.deleteCollection()}},"delete")),r.a.createElement(f.a,{to:"/collection/".concat(this.props.collection._id)}," ",r.a.createElement("div",{className:"collectionImages"},this.props.collection.pieces.slice(0,4).map(function(e){return r.a.createElement("div",{className:"imageSquare",style:{backgroundImage:"url(".concat(e.imageUrl,")")}})}))))}}]),t}(n.Component)),X=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={newCollection:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"updateNewCollection",value:function(e){this.setState(Object(p.a)({},this.state,{newCollection:e.target.value}))}},{key:"checkEnter",value:function(e){13===e.keyCode&&this.sendName()}},{key:"sendName",value:function(){var e=this;v.a.post("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/").concat(this.props.user._id),{name:this.state.newCollection}).then(function(t){return e.props.reFetch(t.data)})}},{key:"render",value:function(){var e=this;return console.log("num collections",this.props.collections.length),r.a.createElement("div",{className:"collections-style"},r.a.createElement("div",{className:"add-field"},r.a.createElement("input",{autoComplete:"off",type:"text",placeholder:"create new collection",id:"create-collection",value:this.state.newCollection,onChange:function(t){return e.updateNewCollection(t)},onKeyDown:function(t){return e.checkEnter(t)}}),r.a.createElement("button",{onClick:function(){return e.sendName()}},"add")),this.props.collections.map(function(t){return r.a.createElement(H,{collection:t,reFetch:e.props.reFetch})}))}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={profile:{}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"getProfile",value:function(e){var t=this;console.log("callingrefetchprofile",e,this.props.user);var a=e||this.props.user;a&&v.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/profile/").concat(a._id)).then(function(e){t.setUserProfile(e.data)})}},{key:"setUserProfile",value:function(e){this.setState(Object(p.a)({},this.state,{profile:e})),console.log("collections from back",e&&e.collections&&e.collections.length)}},{key:"componentWillReceiveProps",value:function(e){this.getProfile(e.user)}},{key:"componentDidMount",value:function(){this.getProfile(this.props.user)}},{key:"render",value:function(){var e=this,t=this.state.profile;return console.log("profile collections",t&&t.collections&&t.collections.length),this.props.user?r.a.createElement("div",{className:"Profile-style"},r.a.createElement("div",{className:"Profile-top"},r.a.createElement("div",{className:"Profile-name"}," ",r.a.createElement("h1",null,"Profile of ",this.props.user.username),r.a.createElement("button",{onClick:this.props.history.goBack},"Close")),r.a.createElement("div",null,t&&t.collections&&r.a.createElement(X,{user:this.props.user,collections:t.collections,reFetch:function(){return e.getProfile()}})))):r.a.createElement("div",{className:"Profile-style"},r.a.createElement("div",{className:"Profile-top"},r.a.createElement("h1",null,"Profile of "),r.a.createElement(f.a,{to:"/"},r.a.createElement("h1",null,"X"))),r.a.createElement("div",{className:"Profile-body"}))}}]),t}(n.Component),Q=Object($.a)(G),Z=a(27),ee=(a(192),a(103)),te=a(104),ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={piece:{},user:{},isSaved:!1,imageClass:""},a.addLike=a.addLike.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"getProfile",value:function(e){var t=this,a=e||this.props.user;a&&v.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/profile/").concat(a._id)).then(function(e){t.setUserProfile(e.data)})}},{key:"setUserProfile",value:function(e){var t=this,a=e.collections&&e.collections.some(function(e){return e.pieces.find(function(e){return e._id===t.props.match.params.id})});this.setState(Object(p.a)({},this.state,{user:e,isSaved:a}))}},{key:"componentWillReceiveProps",value:function(e){this.getProfile(e.user)}},{key:"componentDidMount",value:function(){var e=this;this.getProfile(this.props.user),v.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/piece/").concat(this.props.match.params.id)).then(function(t){var a="",n=new Image;n.src=t.data.imageUrl,n.onload=function(){var r=n.height/n.width;r>.9&&r<1.1?a="square-img":r>=1.1?a="vertical-img":r<=.9&&(a="horizontal-img"),e.setState(Object(p.a)({},e.state,{piece:t.data,imageClass:a}))},console.log("state",e.state)})}},{key:"addLike",value:function(){var e=this;v.a.put("".concat("https://mn3m0s1n3.herokuapp.com/api","/piece/like/").concat(this.state.piece._id)).then(function(t){e.setState({piece:t.data})})}},{key:"addCollection",value:function(e){var t=this;v.a.put("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/add/").concat(e,"&").concat(this.state.piece._id)).then(function(e){console.log("pieceAdded",e.data),t.getProfile(t.state.user)})}},{key:"deleteCollection",value:function(e){var t=this;v.a.put("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/del/").concat(e,"&").concat(this.state.piece._id)).then(function(e){console.log("pieceDeleted",e.data),t.getProfile(t.state.user)})}},{key:"render",value:function(){var e=this,t=this.state.piece,a=t.origin,n=t.technic,o=t.tags,c=t.museum,l=t.name,i=t.imageUrl,s=t.description,u=t.author,m=t.year,d=t.culture,h=t.classification,p=t.rating,f=t.department;return r.a.createElement("div",{className:"detailPiece"},r.a.createElement("div",{className:"detail-card"},r.a.createElement("div",{className:"detail-top"},r.a.createElement("h1",null,"Detail view"),r.a.createElement("button",{onClick:this.props.history.goBack},"Close")),r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{className:this.state.imageClass,src:i})),r.a.createElement("div",{className:"detail-buttons"},r.a.createElement("h1",null,r.a.createElement(ee.a,{icon:te.a}),p),r.a.createElement("button",{onClick:this.addLike},"like"),r.a.createElement("div",{class:"dropdown"},r.a.createElement("button",{class:"dropbtn"},"Add"),r.a.createElement("div",{class:"dropdown-content"},this.state&&this.state.user&&this.state.user.collections&&this.state.user.collections.filter(function(t){return t.pieces.every(function(t){return t._id!==e.props.match.params.id})}).map(function(t){return r.a.createElement("button",{onClick:function(){return e.addCollection(t._id)},class:"droppedbtn"},t.name)}))),this.state.isSaved&&r.a.createElement("div",{class:"dropdown"},r.a.createElement("button",{class:"dropbtn"},"Delete"),r.a.createElement("div",{class:"dropdown-content"},this.state&&this.state.user&&this.state.user.collections&&this.state.user.collections.filter(function(t){return t.pieces.some(function(t){return t._id===e.props.match.params.id})}).map(function(t){return r.a.createElement("button",{onClick:function(){return e.deleteCollection(t._id)},class:"droppedbtn"},t.name)})))),r.a.createElement("div",{className:"detail-text"}," ",r.a.createElement("h1",null,l),u&&r.a.createElement("p",null,"author ",u),m&&r.a.createElement("p",null,"year ",m),"RMA"===c?r.a.createElement("p",null,"Rijksmuseum of Amsterdam"):"MOMA"===c?r.a.createElement("p",null,"MoMA New York"):r.a.createElement("p",null,"Metropolitan Museum of Art"),n&&r.a.createElement("p",null,"technic ",n),a&&r.a.createElement("p",null,"origin",a&&r.a.createElement("p",null,a[0])),o&&r.a.createElement("p",null,"tags",o&&o.map(function(e){return r.a.createElement("p",null,e)})),s&&r.a.createElement("p",null,"description",s),d&&r.a.createElement("p",null,"culture",d),h&&r.a.createElement("p",null,"classification",h),f&&r.a.createElement("p",null,"department",f))))}}]),t}(n.Component),ne=Object($.a)(ae),re=a(15),oe=(a(196),a(67));(Y=a.n(oe).a).fn.bgLoaded=function(e){var t=Y.extend({},{afterLoaded:function(){this.addClass("bg-loaded")}},e);console.log("hola"),this.each(function(){var e=Y(this),a=e.css("background-image").split(", ");e.data("loaded-count",0),Y.each(a,function(n,r){var o=r.replace(/^url\(["']?/,"").replace(/["']?\)$/,"");Y("<img/>").attr("src",o).load(function(){Y(this).remove(),e.data("loaded-count",e.data("loaded-count")+1),e.data("loaded-count")>=a.length&&t.afterLoaded.call(e)})})})};var ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).goDetail=a.goDetail.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){re.e("#chart").selectAll("*").remove()}},{key:"goDetail",value:function(e){var t="/detail/".concat(e.data._id);return this.props.history.push(t)}},{key:"render",value:function(){var e,t=this.props.data,a=re.d().domain([0,100]).range([0,100]),n=re.d().domain([0,100]).range([0,100]),o=re.c,c=re.g().size([100,100]).paddingInner(0).round(!1),l=re.b(t).sum(function(e){return e.value?1:0});c(l);var i=re.e("#chart").selectAll(".node").data(l.descendants()).enter().append("div").attr("class",function(e){return"node level-"+e.depth}).attr("title",function(e){return e.data.name?e.data.name:"null"});i.style("left",function(e){return a(e.x0)+"%"}).style("top",function(e){return n(e.y0)+"%"}).style("width",function(e){return a(e.x1)-a(e.x0)+"%"}).style("height",function(e){return n(e.y1)-n(e.y0)+"%"}).style("background-image",function(e){return e.value?"url(".concat(e.data.value,")"):"none"}).style("background-color",function(e){for(;e.depth>2;)e=e.parent;return o(e.data.name)}).on("click",u).append("p").attr("class","label").text(function(e){return e.data.name?e.data.name:"---"}),i.filter(function(e){return e.depth>=5}).append("button").html("&#65291;").attr("class","button-detail").on("click",this.goDetail);var s=re.e(".up").datum(l).on("click",u);function u(t){e=t.depth;var r=re.e(".up").text(e<=0?"":"zoom out");console.log("button",r),s.datum(t.parent||l),a.domain([t.x0,t.x1]),n.domain([t.y0,t.y1]);var o=re.f().duration(1200).ease(re.a);i.transition(o).style("left",function(e){return a(e.x0)+"%"}).style("top",function(e){return n(e.y0)+"%"}).style("width",function(e){return a(e.x1)-a(e.x0)+"%"}).style("height",function(e){return n(e.y1)-n(e.y0)+"%"}),i.filter(function(e){return e.ancestors()}).classed("hide",function(e){return!!e.children}),i.filter(function(t){return t.depth>e}).classed("hide",!1)}return r.a.createElement("div",{className:"father"},r.a.createElement("nav",{className:"nav-bar-d3"},r.a.createElement("div",{className:"up"})),r.a.createElement("div",{className:"feature",id:"chart"}))}}]),t}(n.Component),le=Object($.a)(ce),ie=(a(198),a(200),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).goDetail=a.goDetail.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){re.e("#chart-small").selectAll("*").remove()}},{key:"goDetail",value:function(e){var t="/detail/".concat(e.data._id);return this.props.history.push(t)}},{key:"render",value:function(){var e,t=this.props.data,a=re.d().domain([0,80]).range([0,80]),n=re.d().domain([0,80]).range([0,80]),o=re.c,c=re.g().size([80,80]).paddingInner(0).round(!1),l=re.b(t).sum(function(e){return e.value?1:0});c(l);var i=re.e("#chart-small").selectAll(".node").data(l.descendants()).enter().append("div").attr("class",function(e){return"node-small level-small-"+e.depth}).attr("title",function(e){return e.data.name?e.data.name:"null"}).attr("transform","translate(90 90)");i.attr("transform","translate(90 90)").style("left",function(e){return a(e.x0)+"%"}).style("top",function(e){return n(e.y0)+"%"}).style("width",function(e){return a(e.x1)-a(e.x0)+"%"}).style("height",function(e){return n(e.y1)-n(e.y0)+"%"}).style("background-image",function(e){return e.value?"url(".concat(e.data.value,")"):"none"}).style("background-color",function(e){for(;e.depth>2;)e=e.parent;return o(e.data.name)}).on("click",u).append("p").attr("class","label").text(function(e){return e.data.name?e.data.name:"---"}),i.filter(function(e){return e.depth>=5}).append("button").attr("class","button-detail").on("click",this.goDetail).html("&#65291;");var s=re.e(".up-small").datum(l).on("click",u);function u(t){e=t.depth;re.e(".up-small").text(e<=0?"":"zoom out");s.datum(t.parent||l),a.domain([t.x0,t.x1]),n.domain([t.y0,t.y1]);var r=re.f().duration(1200).ease(re.a);i.transition(r).style("left",function(e){return a(e.x0)+"%"}).style("top",function(e){return n(e.y0)+"%"}).style("width",function(e){return a(e.x1)-a(e.x0)+"%"}).style("height",function(e){return n(e.y1)-n(e.y0)+"%"}),i.filter(function(e){return e.ancestors()}).classed("hide",function(e){return!!e.children}),i.filter(function(t){return t.depth>e}).classed("hide",!1)}return r.a.createElement("div",{className:"father-small"},r.a.createElement("nav",{className:"nav-bar-d3-small"},r.a.createElement("div",{className:"up-small"})),r.a.createElement("div",{className:"feature-small",id:"chart-small"}))}}]),t}(n.Component)),se=Object($.a)(ie),ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={collection:{},treeData:{},data:{children:[{name:"Photo 1",value:"cgi-1.jpg"},{name:"Photo 1",value:"cgi-1.jpg"}]}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;v.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/collection/").concat(this.props.match.params.id)).then(function(t){var a=J(t.data.pieces);e.setState(Object(p.a)({},e.state,{collection:t.data,treeData:a}))})}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"CollectionDetail-style"},r.a.createElement("div",{className:"CollectionDetail-top"},r.a.createElement("div",{className:"CollectionDetail-buttons"},r.a.createElement("h1",null,this.state.collection.name),r.a.createElement("button",{onClick:this.props.history.goBack},"Close")),r.a.createElement("div",null,r.a.createElement(se,{data:this.state.treeData}))))}}]),t}(n.Component),me=Object($.a)(ue),de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.service.logout().then(function(){a.setState({loggedInUser:null})})},a.state={loggedInUser:null,search:"",resultsId:[],resultsDetail:[],tree:{},loaded:!1},a.service=new b,a.fetchUser(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}).catch(function(t){e.setState({loggedInUser:!1})})}},{key:"setLoaded",value:function(){console.log("isloaded",this.state.loaded),this.setState({loaded:!0})}},{key:"searchMongo",value:function(e){var t=this;"Enter"===e.key&&(e.preventDefault(),v.a.get("".concat("https://mn3m0s1n3.herokuapp.com/api","/pieces/").concat(e.target.value)).then(function(e){if(e=e.data){var a=e;console.log("results filteredResults",e,a);var n=J(a,t.nodeLength);console.log(n),t.setState({resultsDetail:a,tree:n})}}))}},{key:"render",value:function(){var e=this;return console.log("app render",this.state.loaded),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement(le,{setLoaded:this.setLoaded,data:this.state.tree}),r.a.createElement(j,{userInSession:this.state.loggedInUser,logout:this.logout,getUser:this.getUser}),r.a.createElement(d.a,null,r.a.createElement(h.a,{path:"/detail/:id",render:function(t){var a=t.match;return r.a.createElement(ne,{user:e.state.loggedInUser,match:a})}}),r.a.createElement(h.a,{path:"/collection/:id",render:function(t){var a=t.match;return r.a.createElement(me,{user:e.state.loggedInUser,match:a})}}),r.a.createElement(h.a,{path:"/profile",render:function(t){return r.a.createElement(Q,Object.assign({user:e.state.loggedInUser},t))}})),r.a.createElement(T,{searchMongo:function(t){return e.searchMongo(t)},tags:this.state.resultsDetail?this.state.resultsDetail:[]})))}}]),t}(n.Component),he=a(255);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(he.a,null,r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},28:function(e,t,a){"use strict";var n=a(85),r=Object(n.a)({palette:{type:"dark",primary:{light:"#7986cb",main:"#FFFFFF",dark:"#303f9f"},secondary:{light:"#7986cb",main:"#7986cb",dark:"#7986cb"},typography:{htmlFontSize:1,fontSize:1},h1:{fontsize:"5rem"}},status:{}});t.a=r},99:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return k});var n=a(44),r=a(0),o=a.n(r),c=(a(4),a(236)),l=a(33),i=a(239),s=a(245),u=a(243),m=a(204),d=a(242),h=a(251),p=a(203),f=(a(177),a(28)),g=e.window.innerWidth,v=Object(c.a)(function(e){return{formControl:{margin:e.spacing(1),minWidth:g/4,maxWidth:g/4},chips:{display:"flex"},chip:{margin:0},noLabel:{marginTop:e.spacing(0)}}}),b={PaperProps:{style:{maxHeight:180,width:g/4}}},E=["Oliver","Van","April","Ralph","Omar","Carlos","Miriam","Bradley","Virginia","Kelly"];function y(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}function k(){var e=v(),t=Object(l.a)(),a=o.a.useState([]),r=Object(n.a)(a,2),c=r[0],g=r[1];return o.a.createElement("div",null,o.a.createElement(i.a,{theme:f.a},o.a.createElement(d.a,{className:e.formControl},o.a.createElement(u.a,{id:"demo-mutiple-chip-label"},"Filters"),o.a.createElement(h.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:c,onChange:function(e){g(e.target.value)},input:o.a.createElement(s.a,{id:"select-multiple-chip"}),renderValue:function(t){return o.a.createElement("div",{className:e.chips},t.map(function(t){return o.a.createElement(p.a,{key:t,label:t,className:e.chip})}))},MenuProps:b},E.map(function(e){return o.a.createElement(m.a,{key:e,value:e,style:y(e,c,t)},e)})))))}}).call(this,a(51))}},[[135,2,1]]]);
//# sourceMappingURL=main.9425e2ce.chunk.js.map